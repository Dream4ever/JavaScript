# 2018 年第三十二周总结

## 喜马拉雅专辑音频批量抓取

这周又用到了 Puppeteer，需要用它来抓取喜马拉雅上专辑内的音频资源。在实现的过程中真是各种踩坑、各种填坑，需要模拟页面元素的点击、元素文本的抓取、网络请求的筛选，最后还重温了一下 Node.js 的 FileStream，因为需要把抓取到的信息保存到文件中，便于后续操作。

在调试代码的过程中，一个很好用的方法就是在每一步操作之后输出相关的内容，这样很容易定位出现问题的地方，调试代码的效率也会高很多。

此外，由于音频专辑有三十多页，想要完整抓取所有资源，就需要实现页面的跳转。最开始是想通过分析列表页面的 URL 格式，依次打开各个页面的 URL，后来发现这种实现方式有问题，于是就更换了思路，改为点击每个页面底部的跳转按钮，一番折腾之后，终于实现了功能。这也告诉我们，千万不要在一棵树上吊死，一定要灵活呀同学们。

这次整个功能的实现，再一次印证了“用以致学”，所学过的知识，只有用起来了，才算是真的学会了。不管学什么，一定要把所学的知识用起来，没有条件创造条件也要用，这样既能够让知识得到实际的应用，还有成就感，进而让自己更加愿意学习。

代码见：[puppeteer-scripts/xmly.js](https://github.com/Dream4ever/puppeteer-scripts/blob/master/xmly.js)

## 小结

讲点儿和编程不相关的事，最近公众号连续日更 11 天了，查看了一下统计数据，发现文章主题、文章内容形式、文章推送时间都在一定程度上决定了文章的阅读数量，从而也就间接决定了文章的传播范围。看了一下文章的阅读数排行，个人物品推荐、公众号推荐之类的接地气的、实用的文章阅读量明显较高，这也印证了那句话：“要写对大家有用的文章”。这里的有用，可以是各种意义上的，工作上的心得、方法，值得阅读的公众号、书籍，生活中好用的物品，好的生活习惯，都是可以分享的。

话说回来，今年除了每周的周更，好像在编程上很久没有进步了，没有进步就是退步啊！

![ahhh~~~~](http://owve9bvtw.bkt.clouddn.com/FpRaSDqzSBzzDXl4hWHd3hPj-6Ug)

---

最后，依然是这周的 GitHub 活动统计。

![week-32-of-2018](http://owve9bvtw.bkt.clouddn.com/FlgHSdYWkkbZQPlsdXfGyC3KDG-G)
