# 《从0开始学架构》学习笔记

> 课程链接：https://time.geekbang.org/column/intro/81

---

## 01 | 架构到底是指什么？

> 课程链接：https://time.geekbang.org/column/article/6458

### 系统与子系统

系统：

- 由一群**有关联的个体**（如汽车的发动机、底盘、轮胎等各部分），
- 根据**某种规则运作**（如发动机产生动力，变速器和传动轴传输动力），
- 能完成个别元件不能单独完成的工作的**群体**（系统不是个体能力的简单加和，而是产生新的能力，比如汽车各部分组合起来之后，才能载重前进）。

子系统和系统的定义其实一样，只是观察的角度不同，一个系统可能是另一个更大系统的子系统。

- 比如微信本身是一个大系统，包含聊天、登录、支付、朋友圈等子系统。
- 朋友圈这个系统又进一步包含动态、评论、点赞等子系统。
- 评论这个系统又进一步包含防刷子系统、审核子系统、发布子系统、存储子系统。
- 评论审核子系统不再包含**业务意义上**的子系统，而是包括各个模块或组件，这些模块或组件可能也是另一个维度上的系统。比如 MySQL、Redis 是存储系统，但不是业务子系统。

### 模块与组件

模块和组件其实都是系统的最够深，只是从不同的角度拆分系统而已。

模块 | 组件
------------ | -------------
从**逻辑**的角度拆分系统 | 从**物理**的角度拆分系统
主要为了职责分离 | 主要为了单元复用

比如一个常见的学生信息管理系统：
- 从模块（逻辑）的角度来拆分，可以分为：登录注册模块、个人信息模块、个人成绩模块。
- 从组件（物理）的角度来拆分，可以分为：Nginx、Web 服务器、MySQL。

### 框架与架构

框架：软件组件的规范，比如 MVC、MVP、MVVM、J2EE 等；或者按照规范做出来的、提供基础功能的产品，比如 Spring MVC、Spring JPA 等。

架构：软件系统的**顶层结构**。
- 比如对于由一群关联个体组成的系统，架构用来明确系统包含哪些个体。
- 系统中的个体各自按照规则运作，架构用来明确个体运作和互相协作的规则。
- 用顶层结构来指代架构，可以避免将系统架构和子系统架构相混淆。

要区分两者的不同，再用上面的学生信息管理系统举例：
- 从业务逻辑角度分解，其架构可以分为：登录注册模块、个人信息模块、个人成绩模块。
- 从物理部署角度分解，其架构可以分为：Nginx、Web 服务器、MySQL。
- 从开发规范角度分解，该系统可以用标准的 MVC 框架来开发，因此架构又变成了 MVC 架构。

---

## 02 | 架构设计的历史背景

> 课程链接：https://time.geekbang.org/column/article/6463

最初的机器语言：太难写、太难读、太难改
→ 汇编语言：易读性显著提升，但编写还是很复杂，且不同 CPU 的汇编指令和结构各不相同
→ 高级语言：无需关注机器底层的结构和逻辑，只需关注具体问题和业务，且可以编译为适合各种 CPU 指令的机器语言
→ 第一次软件危机：1960/1970年代，软件“逻辑”异常复杂：IBM 的 System/360 操作系统开发，投入巨大，进度不断延迟，质量也得不到保障
  → 提出软件工程、结构化程序设计（面向过程：自顶向下、逐步细化、模块化），用于解决软件危机
→ 第二次软件危机：1980年代，软件“扩展”异常复杂：硬件飞速发展，业务需求越发复杂，编程应用领域越发广泛
  → 面向对象思想开始流行
→ 软件系统越来越复杂：1990年代，随着软件系统规模的增加，算法和数据结构不再是主要的设计问题，软件架构才是主要的设计问题
